<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>bitclouds.sh - vps cloud platform with bitcoin payments</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<style>
  body {
  background-color: black;
  background-image: radial-gradient(
    rgba(100, 120, 100, 0.75), black 120%
  );
  height: 100vh;
  margin: 0;
  overflow: hidden;
  padding: 2rem;
  color: white;
  font: 1.3rem Inconsolata, monospace;
  text-shadow: 0 0 5px #C8C8C8;
  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: repeating-linear-gradient(
      0deg,
      rgba(black, 0.15),
      rgba(black, 0.15) 1px,
      transparent 1px,
      transparent 2px
    );
    pointer-events: none;
  }
}

output { color: #f6ffff; }
a { color: #b6d6ff; }
::selection {
  background: #0080FF;
  text-shadow: none;
}
pre {
  margin: 0;
}

</style>

<body>
<div id="support" style="display: none;">
    <form class="was-validated">
      <div class="mb-3">
           <div class="form-row">
            <div class="col-md-4 mb-3">
              <label for="validationServer01">Host name</label>
              <input type="text" class="form-control is-valid" id="validationServer01" placeholder="cosmic-1" value="" required>

                <div class="invalid-feedback">
                Type host name
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <label for="validationServer02">Contact details</label>
              <input type="text" class="form-control is-valid" id="validationServer02" placeholder="your@email.com or @telegram or @you:matrix.org or +73 523 23543" value="" required>
                <div class="invalid-feedback">
                Type contact details
              </div>
            </div>
            </div>
       </div>
        <label for="validationTextarea">Your message (max. 300 characters)</label>

        <textarea class="form-control is-invalid" id="validationTextarea" placeholder="I cannot restart my VPS! Please help!" required></textarea>

        <div class="custom-control custom-checkbox mb-3">
            <input type="checkbox" class="custom-control-input" id="customControlValidation1">
            <label class="custom-control-label" for="customControlValidation1">I need response ASAP</label>
        </div>
        <a href="javascript:sendMessage();">Send message!</a>
        <a href="https://bitclouds.sh/"> Go back!</a>
    </form>

</div>
<pre>
    <output id="support-invoice" style="display: none;">
    Welcome to the internet of money!
    # <a href="https://github.com/bitcoin-software/bitclouds.sh">bitclouds.sh</a> is a programmable VPS platform


    Awaiting following invoice to be paid <img src="loading.gif" height="70">
        <div id="support-qr"></div>
        <a href="#" id="support-payment" target="_blank"> invoice link </a>

    Want to pay on-chain?  <a href="#" id="sup-onchain" target="_blank">Generating address...</a>

    # You can also setup in easy steps <a href="https://github.com/bitcoin-software/bitbsd-clouds/tree/master/tor-hidden-service">TOR hidden service</a> or <a href="https://bitcoin-software.github.io/bitbsd-clouds/telegram-bot/">Telegram bot</a>
    # <a href="https://bitcoin-software.github.io/bitbsd-clouds/">Refer here for more info about each instance</a>
    # Reach us <a href="https://t.me/bitclouds">on Telegram</a>
    </output>
    <output id="support-complete" style="display: none;">
    Welcome to the internet of money!
    # <a href="https://github.com/bitcoin-software/bitclouds.sh">bitclouds.sh</a> is a programmable VPS platform
        #


    Your message sent! <a href="https://bitclouds.sh/"> Go back!</a>

    # You can also setup in easy steps <a href="https://github.com/bitcoin-software/bitbsd-clouds/tree/master/tor-hidden-service">TOR hidden service</a> or <a href="https://bitcoin-software.github.io/bitbsd-clouds/telegram-bot/">Telegram bot</a>..
    # <a href="https://bitcoin-software.github.io/bitbsd-clouds/">Refer here for more info about each instance</a>
    # Reach us <a href="https://t.me/bitclouds">on Telegram</a>
    </output>
    <output id="content">
    Welcome to the internet of money!
    # <a href="https://github.com/bitcoin-software/bitclouds.sh">bitclouds.sh</a> is a programmable VPS platform


    # only one plan available: [20 GB SSD, 2GB RAM, 1vCPU, 15TB traffic] = 66 sat/hour

    [you@home ~$] curl https://bitclouds.sh/images

    {
    "images": ["<a href="https://bitclouds.sh/index.html?create=debian">debian</a>", "<a href="https://bitclouds.sh/index.html?create=centos">centos</a>", "<a href="https://bitclouds.sh/index.html?create=ubuntu">ubuntu</a>", "<a href="https://bitclouds.sh/index.html?create=vpn">vpn</a>", "<a href="https://bitclouds.sh/index.html?create=bitcoind">bitcoind</a>", "<a href="https://bitclouds.sh/index.html?create=lightningd">lightningd</a>", "<a href="https://bitclouds.sh/index.html?create=rootshell">rootshell</a>"]
    }

    [you@home ~$] curl https://bitclouds.sh/create/{$IMAGE}

    [you@home ~$] curl https://bitclouds.sh/status/{$HOST_NAME}

    [you@home ~$] curl https://bitclouds.sh/topup/{$HOST_NAME}/1000

    <a href="javascript:getSupport();">Get fast support for urgent or regular issue!</a>

    [you@home ~$] curl https://bitclouds.sh/support/{$HOST_NAME}/{YOUR_EMAIL_OR_TELEGRAM_OR_PHONE_OR_WHATEVER}/{MESSAGE}/urgent

    # You can also setup in easy steps <a href="https://github.com/bitcoin-software/bitbsd-clouds/tree/master/tor-hidden-service">TOR hidden service</a> or <a href="https://bitcoin-software.github.io/bitbsd-clouds/telegram-bot/">Telegram bot</a>..
    # <a href="https://bitcoin-software.github.io/bitbsd-clouds/">Refer here for more info about each instance</a>
    # Reach us <a href="https://t.me/bitclouds">on Telegram</a>
    </output>
    <output id="vps-invoice" style="display: none;">
    Welcome to the internet of money!
    # <a href="https://github.com/bitcoin-software/bitclouds.sh">bitclouds.sh</a> is a programmable VPS platform


    Awaiting following invoice to be paid <img src="loading.gif" height="70">

        <div id="vps-qr"></div>
        <a href="#" id="invoice-link" align="center">INVOICE</a>

        Want to pay on-chain?  <a href="#" id="vps-onchain" target="_blank">Generating address...</a>

    # You can also setup in easy steps <a href="https://github.com/bitcoin-software/bitbsd-clouds/tree/master/tor-hidden-service">TOR hidden service</a> or <a href="https://bitcoin-software.github.io/bitbsd-clouds/telegram-bot/">Telegram bot</a>
    # <a href="https://bitcoin-software.github.io/bitbsd-clouds/">Refer here for more info about each instance</a>
    # Reach us <a href="https://t.me/bitclouds">on Telegram</a>
    </output>
    <output id="vps-paid" style="display: none;">
    Welcome to the internet of money!
    # <a href="https://github.com/bitcoin-software/bitclouds.sh">bitclouds.sh</a> is a programmable VPS platform


    Now we are creating new instance.. <img src="loading.gif" height="70">

    # You can also setup in easy steps <a href="https://github.com/bitcoin-software/bitbsd-clouds/tree/master/tor-hidden-service">TOR hidden service</a> or <a href="https://bitcoin-software.github.io/bitbsd-clouds/telegram-bot/">Telegram bot</a>
    # <a href="https://bitcoin-software.github.io/bitbsd-clouds/">Refer here for more info about each instance</a>
    # Reach us <a href="https://t.me/bitclouds">on Telegram</a>
    </output>
    <output id="vps-data" style="display: none;">
    Welcome to the internet of money!
    # <a href="https://github.com/bitcoin-software/bitclouds.sh">bitclouds.sh</a> is a programmable VPS platform


    Well done, your instance is created!

    [you@home ~$] ssh <a href="https://www.howtogeek.com/311287/how-to-connect-to-an-ssh-server-from-windows-macos-or-linux/" id="hostname">HOST</a>

    <a href="https://www.howtogeek.com/311287/how-to-connect-to-an-ssh-server-from-windows-macos-or-linux/" id="password">Enter password</a>

    To setup your shh key use

    [you@home ~$] ssh-copy-id

    # You can also setup in easy steps <a href="https://github.com/bitcoin-software/bitbsd-clouds/tree/master/tor-hidden-service">TOR hidden service</a> or <a href="https://bitcoin-software.github.io/bitbsd-clouds/telegram-bot/">Telegram bot</a>..
    # <a href="https://bitcoin-software.github.io/bitbsd-clouds/">Refer here for more info about each instance</a>
    # Reach us <a href="https://t.me/bitclouds">on Telegram</a>
    </output>
    <output id="invoice-expired" style="display: none;">
    Welcome to the internet of money!
    # <a href="https://github.com/bitcoin-software/bitclouds.sh">bitclouds.sh</a> is a programmable VPS platform


    Your invoice is expired! <a href="https://bitclouds.sh/"> Go back!</a>

    # You can also setup in easy steps <a href="https://github.com/bitcoin-software/bitbsd-clouds/tree/master/tor-hidden-service">TOR hidden service</a> or <a href="https://bitcoin-software.github.io/bitbsd-clouds/telegram-bot/">Telegram bot</a>..
    # <a href="https://bitcoin-software.github.io/bitbsd-clouds/">Refer here for more info about each instance</a>
    # Reach us <a href="https://t.me/bitclouds">on Telegram</a>
    </output>
</pre>
<script src="jq.js"></script>
<script src="qrcode.js"></script>
<script>
    var create_qrcode = function(text, typeNumber,
        errorCorrectionLevel, mode, mb) {

      qrcode.stringToBytes = qrcode.stringToBytesFuncs[mb];

      var qr = qrcode(typeNumber || 4, errorCorrectionLevel || 'M');
      qr.addData(text, mode);
      qr.make();

    //  return qr.createTableTag();
    //  return qr.createSvgTag();
      return qr.createImgTag();
    };


    function qc(qrid,usrtext) {
      var text = usrtext.
        replace(/^[\s\u3000]+|[\s\u3000]+$/g, '');
      var t = "14";
      var e = "M";
      var m = "Byte";
      var mb = "UTF-8";
      document.getElementById(qrid).innerHTML =
        create_qrcode(text, t, e, m, mb);
    };

    function findGetParameter(parameterName) {
        var result = null,
            tmp = [];
        var items = location.search.substr(1).split("&");
        for (var index = 0; index < items.length; index++) {
            tmp = items[index].split("=");
            if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
        }
        return result;
    }

    function getSupport(){
            $("#content").hide();
            $("#support").show();
    }


    function closeSupport(){
            $("#content").show();
            $("#support").hide();
    }

    function sendMessage(){
        host = $("#validationServer01").val();
        contact = $("#validationServer01").val();
        msg = $("#validationTextarea").val();
        urgent = false;
        if ($('#customControlValidation1').is(":checked"))
        {
            urgent = true;
        }
            dest_url = host+"/"+contact+"/"+msg;

        if (urgent) {
            dest_url = host+"/"+contact+"/"+msg+"/urgent";

        }

        $.ajax({
                url: "https://bitclouds.sh/support/"+ dest_url
            }).then(function(supdata) {
                bolt=supdata.paytosend

                invoice_completed = false

                $("#support").hide();

                $("#support-invoice").show();
                //$('#support-qr').html(bolt);

                qc('support-qr', bolt);
                $('#support-payment').attr("href", 'lightning:'+bolt);

                $.ajax({
                    url: "https://api.golightning.club/new",
                    type: "POST",
                    data: {'bolt11': bolt}
                }).then(function(sgldata) {
                    if (sgldata.hasOwnProperty('error')) {
                        alert(sgldata.error)
                    } else {
                        $('#sup-onchain').attr("href", sgldata.url);
                        $('#sup-onchain').html("Pay via BTCPayServer");
                    }

                 });
                setInterval(function() {
                            //your jQuery ajax code
                                $.ajax({
                               url: "https://bitclouds.sh/chkinv/"+bolt
                                }).then(function(invdata) {
                                    if (invdata.status === 'paid' && !invoice_completed) {
                                        invoice_completed = true;
                                        $("#support-invoice").hide();
                                        $("#support-complete").show();
                                    }
                                })

                        }, 1000 * 5 );
            });

    }


    $(document).ready(function(){
        var invoice_paid = false
        var invoice_completed = false

        image=findGetParameter('create');

        if (image != null) {
            $("#content").hide()
            $("#vps-invoice").show()
            $.ajax({
                url: "https://bitclouds.sh/create/"+image
            }).then(function(data) {
                bolt=data.paytostart;
                host=data.host;
                //$('#vps-qr').html(bolt);
                qc('vps-qr', bolt);
                $('#qrlink-payment').attr("href", 'lightning:'+bolt);
                $('#invoice-link').attr("href", 'lightning:'+bolt);
                $('#invoice-link').text(host);
                //$.ajax({
                //       url: "https://bitclouds.sh/topup/"+host+"/10000"
                //    }).then(function(bigpay){
                //             big_invoice=bigpay.invoice;
                //
                //    });
                $.ajax({
                                url: "https://api.golightning.club/new",
                                type: "POST",
                                data: {'bolt11': bolt}
                            }).then(function(gldata) {
                                if (gldata.hasOwnProperty('error')) {
                                    alert(gldata.error)
                                } else {
                                    $('#vps-onchain').attr("href", gldata.url);
                                    $('#vps-onchain').html("Pay via BTCPayServer");
                                }
                 });
            });

            setInterval(function() {
            //your jQuery ajax code
                $.ajax({
               url: "https://bitclouds.sh/chkinv/"+bolt
                }).then(function(data) {

                    if (data.status === 'paid' && !invoice_paid && !invoice_completed) {
                        invoice_paid = true;

                        $("#qr").html('<img src="/loading.gif">');
                        $("#vps-invoice").hide();
                        $("#vps-paid").show();
                        setInterval(function() {
                            //your jQuery ajax code
                                $.ajax({
                               url: "https://bitclouds.sh/status/"+host
                                }).then(function(data) {
                                    if (data.status === 'subscribed' && !invoice_completed) {
                                        ssh_usr = 'root'
                                        ssh_port = '22'
                                        ssh_pass = 'none'
                                        if (data.hasOwnProperty('ssh_usr')) {
                                            ssh_usr = data.ssh_usr
                                        }
                                        if (data.hasOwnProperty('ssh_port')) {
                                            ssh_port = data.ssh_port
                                        }

                                        if (data.hasOwnProperty('ssh_pwd')) {
                                            ssh_pwd = data.ssh_pwd
                                        }

                                        if (data.hasOwnProperty('pwd')) {
                                            ssh_pwd = data.pwd
                                        }
                                        $("#vps-paid").hide();
                                        $("#vps-data").show();
                                        invoice_completed = true
                                        $('#hostname').text(ssh_usr+'@bitbsd.org -p'+ssh_port);
                                        $('#hostname').attr("href", "https://bitclouds.sh/status/"+host);
                                        $('#password').text('Enter password: ' + ssh_pwd);
                                    } else if (data.status === 'expired' && !invoice_completed) {
                                        invoice_completed = true;
                                        $("#vps-invoice").hide()
                                        $("#invoice-expired").show()
                                    }
                                })

                        }, 1000 * 8 );
                    } else if (data.status === 'expired' && !invoice_completed) {
                        invoice_completed = true;
                        $("#vps-invoice").hide();
                        $("#invoice-expired").show();

                    }
                })

            }, 1000 * 10 ); //each 5 seconds test invoice data

        }
    });
</script>
</body>
</html>

